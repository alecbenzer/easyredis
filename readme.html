---
layout: default
---
<h2>Installation</h2>

<p>You can just grab the gem and you're good to go:</p>

<pre><code>$ gem install easyredis
</code></pre>

<p>Or, you can get the source with git:</p>

<pre><code>$ git clone git://github.com/alecbenzer/easyredis.git
</code></pre>

<p>or just download and extract a tar archive with the Downloads button.</p>

<p>Once you have the source, you can run:</p>

<pre><code>$ rake manifest
$ rake build_gemspec
$ rake install easyredis.gemspec
</code></pre>

<h2>Basics</h2>

<p>First, create a simple model:</p>

<pre><code>require 'easyredis'

class Post &lt; EasyRedis::Model
  field :title
  field :body
end

EasyRedis.connect
</code></pre>

<p>This creates a Post model and connects to a redis server running on localhost on the default port (you can pass options to EasyRedis.connect like you would to Redis.new)</p>

<p>We can now make post objects:</p>

<pre><code>p = Post.new
p.title = "My First Post"
p.body = "This is my very first post!"
</code></pre>

<p>Posts are automatically given ids that we can then use to retrive them:</p>

<pre><code>id = p.id
p2 = Post.find(id)
p2.title  # =&gt; "My First Post"
</code></pre>

<p>Or, we can choose our own ids:</p>

<pre><code>p = Post.new("coolpost")
p.title = "A Cool Post"
p.body = "This post has a high level of coolness."

p2 = Post.find("coolpost")  # this is a very fast lookup
p2.title  # =&gt; "A Cool Post"
</code></pre>

<p>We also get a created_at field for free that we can sort by.</p>

<pre><code>p.created_at  # a ruby Time object
Post.all  # get all posts, ordered by creation time
Post.all :order =&gt; :desc  # specifying an order option
Post[41]  # the 42nd (0-based indexing) post that was created
</code></pre>

<h2>Searching and Sorting</h2>

<p>We can also tell EasyRedis to optimize sorting and searching on certain fields. If we had defined Post as:</p>

<pre><code>class Post &lt; EasyRedis::Model
  field :title
  field :body

  sort_on :title
end
</code></pre>

<p>We can now sort our posts by title:</p>

<pre><code>Post.sort_by :title, :order =&gt; :desc
</code></pre>

<p>And also search:</p>

<pre><code>Post.search_by :title, "A common title"  # all posts with this title
Post.find_by :title, "My First Post"  # just one post
</code></pre>

<h2>Text Search and Completions</h2>

<p>We could have defined Post like this:</p>

<pre><code>class Post &lt; EasyRedis::Model
  field :title
  field :body

  text_search :title
end
</code></pre>

<p>Now we can perform text searches and completions against our title field:</p>

<pre><code>Post.matches(:title,"Fir")  # titles that begin with "Fir"
Post.match(:title,"First")  # posts whose titles contain "First"
</code></pre>
